<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GroceryOrderingApp.Mobile.Views.AdminCategoriesPage"
             Title="Manage Categories"
             BackgroundColor="{StaticResource BackgroundColor}">
    <VerticalStackLayout Padding="12" Spacing="12">
        <ActivityIndicator IsRunning="{Binding IsLoading}" IsVisible="{Binding IsLoading}" Color="{StaticResource Primary}" Scale="1.5"/>
        
        <CollectionView ItemsSource="{Binding Categories}" Padding="0">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="12" Margin="0,6" Style="{StaticResource CardStyle}" HasShadow="True">
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0" Text="{Binding Name}" FontSize="13" FontAttributes="Bold"/>
                            <Button Grid.Column="1" Text="ðŸ—‘" FontSize="12" Padding="6" BackgroundColor="{StaticResource Error}"
                                   Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.DeleteCategoryCommand}"
                                   CommandParameter="{Binding Id}"/>
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        
        <Button Text="ðŸ”„ Refresh" Command="{Binding RefreshCommand}" Style="{StaticResource PrimaryButtonStyle}" Margin="0,10,0,0"/>
    </VerticalStackLayout>
</ContentPage>
